!(function(e, t) {
  'object' == typeof exports && 'undefined' != typeof module
    ? t(exports)
    : 'function' == typeof define && define.amd
    ? define(['exports'], t)
    : t(((e = e || self).vuePluginsApi = {}));
})(this, function(e) {
  'use strict';
  var t = function() {
    return (t =
      Object.assign ||
      function(e) {
        for (var t, n = 1, o = arguments.length; n < o; n++)
          for (var r in (t = arguments[n]))
            Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
        return e;
      }).apply(this, arguments);
  };
  var n = {
    reportUrl: 'http://localhost:7002',
    token: '',
    appVersion: '1.0.0',
    environment: 'production',
    outtime: 300,
    enableSPA: !0,
    autoSendPv: !0,
    isPage: !0,
    isAjax: !0,
    isResource: !0,
    isError: !0,
    isRecord: !0,
    isBehavior: !0,
    ignore: {
      ignoreErrors: [],
      ignoreUrls: [],
      ignoreApis: ['/api/v1/report/web', 'livereload.js?snipver=1', '/sockjs-node/info'],
    },
    behavior: { console: ['log', 'error'], click: !0 },
    maxLength: 1e3,
    Vue: '',
    user: {},
  };
  function o(e) {
    n = t(t({}, n), e);
  }
  function r(e) {
    return e && n[e] ? n[e] : {};
  }
  var a = function() {};
  function i() {
    for (
      var e,
        t,
        n = 20,
        o = new Array(n),
        r = Date.now()
          .toString(36)
          .split('');
      n-- > 0;

    )
      (t = (e = (36 * Math.random()) | 0).toString(36)), (o[n] = e % 3 ? t : t.toUpperCase());
    for (var a = 0; a < 8; a++) o.splice(3 * a + 2, 0, r[a]);
    return o.join('');
  }
  function s(e) {
    var t = [];
    for (var n in e)
      e.hasOwnProperty(n) && t.push(encodeURIComponent(n) + '=' + encodeURIComponent(e[n]));
    return t.join('&');
  }
  function c(e, t) {
    var n = 0,
      o = e.length;
    if (
      (function(e, t) {
        var n = Object.prototype.toString
          .call(e)
          .substring(8)
          .replace(']', '');
        return t ? n === t : n;
      })(e, 'Array')
    )
      for (; n < o && !1 !== t.call(e[n], e[n], n); n++);
    else for (var r in e) if (!1 === t.call(e[r], e[r], r)) break;
    return e;
  }
  var u = function(e, t, n) {
      window.addEventListener
        ? window.addEventListener(
            e,
            function o(r) {
              n && window.removeEventListener(e, o, !0), t.call(this, r);
            },
            !0
          )
        : window.attachEvent &&
          window.attachEvent('on' + e, function o(r) {
            n && window.detachEvent('on' + e, o), t.call(this, r);
          });
    },
    d = function(e, t) {
      return t
        ? (window.removeEventListener
            ? window.removeEventListener(e, t)
            : window.detachEvent && window.detachEvent(e, t),
          this)
        : this;
    },
    p = function(e) {
      return (e ? f(e.replace(/^#\/?/, '')) : '') || '[index]';
    },
    f = function(e) {
      return e && 'string' == typeof e ? e.replace(/^(https?:)?\/\//, '').replace(/\?.*$/, '') : '';
    },
    l = function(e) {
      return function() {
        return e + '() { [native code] }';
      };
    },
    v = (function() {
      var e = 'object' == typeof console ? console.warn : a;
      try {
        var t = { warn: e };
        t.warn.call(t);
      } catch (e) {
        return a;
      }
      return e;
    })(),
    h = function(e, t) {
      var n;
      window.CustomEvent
        ? (n = new CustomEvent(e, { detail: t }))
        : ((n = window.document.createEvent('HTMLEvents')).initEvent(e, !1, !0), (n.detail = t)),
        window.dispatchEvent(n);
    },
    g = function(e) {
      var t = e.split('::');
      return t.length > 1 ? { group: t[0], key: t[1] } : { group: 'default_group', key: t[0] };
    },
    w = function(e, t) {
      return e.reduce(function(e, n, o) {
        return t(n, o) ? o : e;
      }, -1);
    },
    y = function() {
      return navigator.userAgent.indexOf('Edge') > -1;
    },
    m = self != top,
    b = {
      page: '',
      sid: '',
      sBegin: Date.now(),
      _health: { errcount: 0, apisucc: 0, apifail: 0 },
      circle: !1,
      cssInserted: !1,
    };
  function L(e, t) {
    'error' === e && b._health.errcount++,
      'api' === e && t && b._health.apisucc++,
      'api' !== e || t || b._health.apifail++;
  }
  function E() {
    var e,
      t,
      o = navigator.connection;
    return {
      t: '',
      page: S(),
      times: 1,
      v: n.appVersion,
      token: n.token,
      e: n.environment,
      begin: new Date().getTime(),
      uid: _(),
      sid: b.sid,
      sr: screen.width + 'x' + screen.height,
      vp:
        ((e = document.documentElement.clientWidth || document.body.clientWidth),
        (t = document.documentElement.clientHeight || document.body.clientHeight),
        e + 'x' + t),
      ct: o ? o.effectiveType : '',
      ul: j(),
      _v: '{{VERSION}}',
      o: location.href,
      user: n.user,
    };
  }
  function S() {
    return b.page ? b.page : location.pathname.toLowerCase();
  }
  function _() {
    var e = localStorage.getItem('bombay_uid') || '';
    return e || ((e = i()), localStorage.setItem('bombay_uid', e)), e;
  }
  function j() {
    var e = navigator.language || navigator.userLanguage;
    return (e = e.substr(0, 2));
  }
  function R(e) {
    return (
      'res' === e.t
        ? x(e)
        : 'error' === e.t
        ? x(e)
        : 'behavior' === e.t
        ? x(e)
        : 'health' === e.t &&
          window &&
          window.navigator &&
          'function' == typeof window.navigator.sendBeacon
        ? (function(e) {
            'object' == typeof e && (e = s(e)),
              (e = n.reportUrl + '?' + e),
              window && window.navigator && 'function' == typeof window.navigator.sendBeacon
                ? window.navigator.sendBeacon(e)
                : v('[arms] navigator.sendBeacon not surported');
          })(e)
        : x(e),
      this
    );
  }
  function x(e) {
    var t,
      o = e[e.t];
    delete e[e.t],
      (function(e, t) {
        var n = window.__oXMLHttpRequest_ || window.XMLHttpRequest;
        if ('function' == typeof n)
          try {
            var o = new n();
            o.open('POST', e, !0),
              o.setRequestHeader('Content-Type', 'text/plain'),
              o.send(JSON.stringify(t));
          } catch (e) {
            v('[bombayjs] Failed to log, POST请求失败');
          }
        else v('[bombayjs] Failed to log, 浏览器不支持XMLHttpRequest');
      })(n.reportUrl + '?' + s(e), (((t = {})[e.t] = o), t));
  }
  var C = 'bombayjs-circle-active',
    T = 'bombayjs-circle-css';
  var k = function(e) {
      var t,
        n,
        o,
        r,
        a,
        i = [];
      if (!e || !e.tagName) return '';
      if (
        (i.push(e.tagName.toLowerCase()),
        e.id && i.push('#'.concat(e.id)),
        (t = e.className) && '[object String]' === Object.prototype.toString.call(t))
      )
        for (n = t.split(/\s+/), a = 0; a < n.length; a++)
          n[a].indexOf('active') < 0 && i.push('.'.concat(n[a]));
      var s = ['type', 'name', 'title', 'alt'];
      for (a = 0; a < s.length; a++)
        (o = s[a]), (r = e.getAttribute(o)) && i.push('['.concat(o, '="').concat(r, '"]'));
      return i.join('');
    },
    A = function(e) {
      if (!e || 1 !== e.nodeType) return '';
      var t = [],
        n = 0,
        o = '';
      t.push('(' + e.innerText.substr(0, 50) + ')');
      for (var r = e || null; r && n++ < 5 && 'html' !== (o = k(r)); )
        t.push(o), (r = r.parentNode);
      return t.reverse().join(' > ');
    };
  function P(e) {
    if (b.circle) {
      var n = e.target.className.split(/\s+/),
        o = A(e.target);
      return (
        (o =
          1 === n.length || (2 === n.length && '' === n[0])
            ? o.replace(/\.\.bombayjs-circle-active/, '')
            : o.replace(/\.bombayjs-circle-active/, '')),
        window.parent.postMessage({ t: 'setElmPath', path: o, page: b.page }, '*'),
        void e.stopPropagation()
      );
    }
    var r;
    try {
      r = e.target;
    } catch (e) {
      r = '<unknown>';
    }
    if ('INPUT' !== r.nodeName && 'TEXTAREA' !== r.nodeName && 0 !== r.length) {
      var a = { type: 'ui.click', data: { path: A(r), message: '' } };
      if (!a.data.path) return;
      var i = E();
      R(t(t({}, i), { t: 'behavior', behavior: a }));
    }
  }
  function O(e) {
    var n;
    try {
      n = e.target;
    } catch (e) {
      n = '<unknown>';
    }
    if (('INPUT' === n.nodeName || 'TEXTAREA' === n.nodeName) && 0 !== n.length) {
      var o = { type: 'ui.blur', data: { path: A(n), message: n.value } };
      if (!o.data.path || !o.data.message) return;
      var r = E();
      R(t(t({}, r), { t: 'behavior', behavior: o }));
    }
  }
  var N = [
    '',
    'fetchStart',
    'domainLookupStart',
    'domainLookupEnd',
    'connectStart',
    'connectEnd',
    'requestStart',
    'responseStart',
    'responseEnd',
    '',
    'domInteractive',
    '',
    'domContentLoadedEventEnd',
    '',
    'loadEventStart',
    '',
    'msFirstPaint',
    'secureConnectionStart',
  ];
  function B(e) {
    var t = n.enableSPA ? p(location.hash.toLowerCase()) : location.pathname.toLowerCase();
    t && I(t, !1);
  }
  function M(e) {
    var t = n.enableSPA ? p(e.detail.toLowerCase()) : e.detail.toLowerCase();
    t && I(t, !1);
  }
  function I(e, o) {
    !o && H(),
      (function(e) {
        var n = E();
        R(
          t(t({}, n), {
            t: 'behavior',
            behavior: { type: 'navigation', data: { from: n.page, to: e } },
          })
        );
      })(e),
      m && window.parent.postMessage({ t: 'setPage', href: location.href, page: e }, '*'),
      (function(e) {
        b.page = e;
      })(e),
      (b.sid = i()),
      (b.sBegin = Date.now()),
      (function() {
        if (n.autoSendPv) {
          var e = E();
          R(
            t(t({}, e), {
              t: 'pv',
              dt: document.title,
              dl: location.href,
              dr: document.referrer,
              dpr: window.devicePixelRatio,
              de: document.charset,
            })
          );
        }
      })();
  }
  function H() {
    var e = b._health.errcount ? 0 : 1,
      n = E(),
      o = t(t(t({}, n), b._health), { t: 'health', healthy: e, stay: Date.now() - b.sBegin });
    (b._health = { errcount: 0, apisucc: 0, apifail: 0 }), R(o);
  }
  function U(e) {
    switch (e.type) {
      case 'error':
        e instanceof ErrorEvent
          ? (function(e) {
              var n = E(),
                o = e.name || 'CustomError',
                r = e.message || '',
                a = e.error.stack || '';
              R(
                t(t({}, n), {
                  t: 'error',
                  st: 'caughterror',
                  cate: o,
                  msg: r && r.substring(0, 1e3),
                  detail: a && a.substring(0, 1e3),
                  file: e.filename || '',
                  line: e.lineno || '',
                  col: e.colno || '',
                })
              );
            })(e)
          : (function(e) {
              var n = E(),
                o = e.target;
              R(
                t(t({}, n), {
                  t: 'error',
                  st: 'resource',
                  msg: o.outerHTML,
                  file: o.src,
                  stack: o.localName.toUpperCase(),
                })
              );
            })(e);
        break;
      case 'unhandledrejection':
        !(function(e) {
          var n = E();
          R(t(t({}, n), { t: 'error', st: 'promise', msg: e.reason }));
        })(e);
    }
    L('error');
  }
  function D() {
    var e = window.performance;
    if (!e || 'object' != typeof e || 'function' != typeof e.getEntriesByType) return null;
    var n = E(),
      o = t(t({}, n), { dom: 0, load: 0, t: 'res', res: [] }),
      a = e.timing || {},
      i = e.getEntriesByType('resource') || [];
    if ('function' == typeof window.PerformanceNavigationTiming) {
      var s = e.getEntriesByType('navigation')[0];
      s && (a = s);
    }
    if (
      (c({ dom: [10, 8], load: [14, 1] }, function(e, t) {
        var n = a[N[e[1]]],
          r = a[N[e[0]]];
        if (void 0 !== n && void 0 !== r) {
          var i = Math.round(r - n);
          i >= 0 && i < 36e5 && (o[t] = i);
        }
      }),
      (i = i.filter(function(e) {
        return !(
          w(r('ignore').ignoreApis, function(t) {
            return e.name.indexOf(t) > -1;
          }) > -1
        );
      })),
      y())
    ) {
      var u = [];
      c(i, function(e) {
        u.push({
          connectEnd: e.connectEnd,
          connectStart: e.connectStart,
          domainLookupEnd: e.connectStart,
          domainLookupStart: e.domainLookupStart,
          duration: e.duration,
          entryType: e.entryType,
          fetchStart: e.fetchStart,
          initiatorType: e.initiatorType,
          name: e.name,
          redirectEnd: e.redirectEnd,
          redirectStart: e.redirectStart,
          responseEnd: e.responseEnd,
          responseStart: e.responseStart,
          startTime: e.startTime,
        });
      }),
        (i = u);
    }
    (o.res = i), R(o);
  }
  function q(e, n, o, a, i, s) {
    if (e) {
      L('api', n);
      var c = E(),
        u = t(t({}, c), { t: 'api', beigin: s, url: e, success: n, time: o, code: a, msg: i });
      w(r('ignore').ignoreApis, function(t) {
        return e.indexOf(t) > -1;
      }) > -1 || R(u);
    } else v('[retcode] api is null');
  }
  function V(e) {
    var t = document.getElementsByClassName(C);
    if (t.length > 0)
      for (var n = 0; n < t.length; n++)
        t[n].className = t[n].className.replace(/ bombayjs-circle-active/g, '');
    e.target.className += ' ' + C;
  }
  function X() {
    !(function() {
      var e = '.' + C + '{border: #ff0000 2px solid;}',
        t = document.createElement('style');
      (t.type = 'text/css'), (t.id = T);
      try {
        t.appendChild(document.createTextNode(e));
      } catch (n) {
        t.styleSheet.cssText = e;
      }
      document.getElementsByTagName('head')[0].appendChild(t);
    })(),
      (b.cssInserted = !0),
      (b.circle = !0),
      u('mouseover', V);
  }
  function J() {
    var e;
    (e = document.getElementById(T)).parentNode.removeChild(e),
      (b.cssInserted = !1),
      (b.circle = !1),
      d('mouseover', V);
  }
  function F(e) {
    e.data &&
      e.data.t &&
      ('setCircle' === e.data.t
        ? Boolean(e.data.v)
          ? X()
          : J()
        : 'back' === e.data.t
        ? window.history.back()
        : 'forward' === e.data.t && window.history.forward());
  }
  function $(e) {
    var t = history[e];
    'function' == typeof t &&
      ((history[e] = function(o, r, a) {
        !window.__bb_onpopstate_ &&
          ((window.__bb_onpopstate_ = window.onpopstate),
          (window.onpopstate = function() {
            for (var e = arguments.length, t = new Array(e), o = 0; o < e; o++) t[o] = arguments[o];
            var r = n.enableSPA ? p(location.hash.toLowerCase()) : location.pathname.toLowerCase();
            if ((I(r, !1), window.__bb_onpopstate_)) return window.__bb_onpopstate_.apply(this, t);
          }));
        var i = 1 === arguments.length ? [arguments[0]] : Array.apply(null, arguments),
          s = location.href,
          c = t.apply(history, i);
        if (!a || 'string' != typeof a) return c;
        if (a === s) return c;
        try {
          var u = s.split('#'),
            d = a.split('#'),
            l = f(u[0]),
            g = f(d[0]),
            w = u[1] && u[1].replace(/^\/?(.*)/, '$1'),
            y = d[1] && d[1].replace(/^\/?(.*)/, '$1');
          l !== g ? h('historystatechanged', g) : w !== y && h('historystatechanged', y);
        } catch (t) {
          v('[retcode] error in ' + e + ': ' + t);
        }
        return c;
      }),
      (history[e].toString = l(e)));
  }
  function W() {
    !(function() {
      if ('function' == typeof window.fetch) {
        var e = window.fetch;
        (window.__oFetch_ = e),
          (window.fetch = function(t, n) {
            var o = 1 === arguments.length ? [arguments[0]] : Array.apply(null, arguments),
              r = Date.now(),
              a = (t && 'string' != typeof t ? t.url : t) || '',
              i = f(a);
            return i
              ? e.apply(window, o).then(function(e) {
                  var t = e.clone(),
                    n = t.headers;
                  if (n && 'function' == typeof n.get) {
                    var o = n.get('content-type');
                    if (o && !/(text)|(json)/.test(o)) return e;
                  }
                  var a = Date.now() - r;
                  return (
                    t.text().then(function(e) {
                      t.ok
                        ? q(i, !0, a, status, e.substr(0, 1e3) || '', r)
                        : q(i, !1, a, status, e.substr(0, 1e3) || '', r);
                    }),
                    e
                  );
                })
              : e.apply(window, o);
          });
      }
    })(),
      (function() {
        if ('function' == typeof window.XMLHttpRequest) {
          var e = 0,
            t = '',
            o = window.XMLHttpRequest;
          (window.__oXMLHttpRequest_ = o),
            (window.XMLHttpRequest = function(r) {
              var a = new o(r);
              if (!a.addEventListener) return a;
              var i = a.open,
                s = a.send;
              return (
                (a.open = function(e, n) {
                  var o = 1 === arguments.length ? [arguments[0]] : Array.apply(null, arguments);
                  (t = f((n = n))), i.apply(a, o);
                }),
                (a.send = function() {
                  e = Date.now();
                  var t = 1 === arguments.length ? [arguments[0]] : Array.apply(null, arguments);
                  s.apply(a, t);
                }),
                (a.onreadystatechange = function() {
                  if (t && 4 === a.readyState) {
                    var o = Date.now() - e;
                    if (a.status >= 200 && a.status <= 299) {
                      var r = a.status || 200;
                      if ('function' == typeof a.getResponseHeader) {
                        var i = a.getResponseHeader('Content-Type');
                        if (i && !/(text)|(json)/.test(i)) return;
                      }
                      q(t, !0, o, r, a.responseText.substr(0, n.maxLength) || '', e);
                    } else
                      q(t, !1, o, r || 'FAILED', a.responseText.substr(0, n.maxLength) || '', e);
                  }
                }),
                a
              );
            });
        }
      })();
  }
  var z = (function() {
    function e(e, t) {
      this.init(e);
    }
    return (
      (e.prototype.init = function(e) {
        var t = e.Vue,
          r = (function(e, t) {
            var n = {};
            for (var o in e)
              Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (n[o] = e[o]);
            if (null != e && 'function' == typeof Object.getOwnPropertySymbols) {
              var r = 0;
              for (o = Object.getOwnPropertySymbols(e); r < o.length; r++)
                t.indexOf(o[r]) < 0 && (n[o[r]] = e[o[r]]);
            }
            return n;
          })(e, ['Vue']);
        !r || r.token
          ? (t && this.addListenVueError(t),
            o(r),
            I(n.enableSPA ? p(location.hash.toLowerCase()) : location.pathname.toLowerCase(), !0),
            n.isPage && this.sendPerf(),
            n.enableSPA && this.addListenRouterChange(),
            n.isError && this.addListenJs(),
            n.isAjax && this.addListenAjax(),
            n.isRecord && this.addRrweb(),
            n.isBehavior && this.addListenBehavior(),
            n.isResource && this.sendResource(),
            (window.__bb = this),
            this.addListenUnload(),
            u('message', F),
            b.circle && X())
          : console.warn('请输入一个token');
      }),
      (e.prototype.setUserInfo = function(e) {
        o({ user: e });
      }),
      (e.prototype.sendPerf = function() {
        !(function() {
          var e = window.performance;
          if (e && 'object' == typeof e)
            var n = {
                dns: 0,
                tcp: 0,
                ssl: 0,
                ttfb: 0,
                trans: 0,
                dom: 0,
                res: 0,
                firstbyte: 0,
                fpt: 0,
                tti: 0,
                ready: 0,
                load: 0,
              },
              o = e.timing || {},
              r = Date.now(),
              a = 1,
              i = setInterval(function() {
                if (o.loadEventEnd) {
                  if ((clearInterval(i), 'function' == typeof window.PerformanceNavigationTiming)) {
                    var s = e.getEntriesByType('navigation')[0];
                    s && ((o = s), (a = 2));
                  }
                  c(
                    {
                      dns: [3, 2],
                      tcp: [5, 4],
                      ssl: [5, 17],
                      ttfb: [7, 6],
                      trans: [8, 7],
                      dom: [10, 8],
                      res: [14, 12],
                      firstbyte: [7, 2],
                      fpt: [8, 1],
                      tti: [10, 1],
                      ready: [12, 1],
                      load: [14, 1],
                    },
                    function(e, t) {
                      var r = o[N[e[1]]],
                        i = o[N[e[0]]],
                        s = Math.round(i - r);
                      (2 === a || (void 0 !== r && void 0 !== i)) &&
                        ('dom' === t && (s = Math.round(i - r)), s >= 0 && s < 36e5 && (n[t] = s));
                    }
                  );
                  var u =
                      window.navigator.connection ||
                      window.navigator.mozConnection ||
                      window.navigator.webkitConnection,
                    d = e.navigation || { type: void 0 };
                  n.ct = u ? u.effectiveType || u.type : '';
                  var p = (u && (u.downlink || u.downlinkMax || u.bandwidth)) || null;
                  if (
                    ((p = p > 999 ? 999 : p) && (n.bandwidth = p),
                    (n.navtype = 1 === d.type ? 'Reload' : 'Other'),
                    1 === a && o[N[16]] > 0 && o[N[1]] > 0)
                  ) {
                    var f = o[N[16]] - o[N[1]];
                    f >= 0 && f < 36e5 && (n.fpt = f);
                  }
                  1 === a && o[N[1]] > 0
                    ? (n.begin = o[N[1]])
                    : 2 === a && n.load > 0
                    ? (n.begin = r - n.load)
                    : (n.begin = r);
                  var l = E();
                  R(t(t(t({}, l), { t: 'perf' }), n));
                }
              }, 50);
        })();
      }),
      (e.prototype.sendResource = function() {
        'complete' === window.document.readyState ? D() : this.addListenResource();
      }),
      (e.prototype.addListenResource = function() {
        u('load', D);
      }),
      (e.prototype.addListenBehavior = function() {
        !(function() {
          if (window && window.console)
            for (var e = n.behavior.console, o = 0; e.length; o++) {
              var r = e[o],
                a = window.console[r];
              if (!window.console[r]) return;
              !(function(e, n) {
                window.console[e] = function() {
                  var o,
                    r,
                    a = Array.prototype.slice.apply(arguments),
                    i = { type: 'console', data: { level: e, message: JSON.stringify(a) } };
                  (o = i),
                    (r = E()),
                    R(t(t({}, r), { t: 'behavior', behavior: o })),
                    n && n.apply(null, a);
                };
              })(r, a);
            }
        })(),
          n.behavior.click && this.addListenClick();
      }),
      (e.prototype.addListenClick = function() {
        u('click', P), u('blur', O);
      }),
      (e.prototype.addListenRouterChange = function() {
        $('pushState'), $('replaceState'), u('hashchange', B), u('historystatechanged', M);
      }),
      (e.prototype.addListenVueError = function(e) {
        e.config.errorHandler = function(e, n, o) {
          console.error(e),
            (function(e, n, o) {
              var r = E();
              R(
                t(t({}, r), {
                  t: 'error',
                  st: 'vue_error',
                  msg: e,
                  file: '',
                  stack: 'Vue',
                  vm: JSON.stringify(n),
                  info: JSON.stringify(o),
                })
              );
            })(e, n, o);
        };
      }),
      (e.prototype.addListenJs = function() {
        u('error', U), u('unhandledrejection', U);
      }),
      (e.prototype.addListenAjax = function() {
        W();
      }),
      (e.prototype.addListenUnload = function() {
        u('beforeunload', H), this.destroy();
      }),
      (e.prototype.addRrweb = function() {}),
      (e.prototype.removeListenRouterChange = function() {
        d('hashchange', B), d('historystatechanged', M);
      }),
      (e.prototype.removeListenJs = function() {
        d('error', U), d('unhandledrejection', U);
      }),
      (e.prototype.removeListenResource = function() {
        d('beforeunload', H);
      }),
      (e.prototype.removeListenAjax = function() {}),
      (e.prototype.removeListenUnload = function() {
        d('load', D);
      }),
      (e.prototype.removeRrweb = function() {}),
      (e.prototype.sum = function(e, n) {
        !(function(e, n) {
          void 0 === n && (n = 1);
          var o = E(),
            r = g(e);
          R(t(t(t({}, o), r), { t: 'sum', val: n }));
        })(e, n);
      }),
      (e.prototype.avg = function(e, n) {
        !(function(e, n) {
          void 0 === n && (n = 1);
          var o = E(),
            r = g(e);
          R(t(t(t({}, o), r), { t: 'avg', val: n }));
        })(e, n);
      }),
      (e.prototype.msg = function(e) {
        !(function(e) {
          var o = E(),
            r = g(e);
          R(t(t({}, o), { t: 'msg', group: r.group, msg: r.key.substr(0, n.maxLength) }));
        })(e);
      }),
      (e.prototype.api = function(e, t, n, o, r) {
        q(e, t, n, o, r, Date.now());
      }),
      (e.prototype.destroy = function() {
        n.enableSPA && this.removeListenRouterChange(),
          n.isError && this.removeListenJs(),
          n.isAjax && this.removeListenAjax(),
          n.isRecord && this.removeRrweb(),
          n.isResource && this.removeListenResource(),
          this.removeListenResource();
      }),
      e
    );
  })();
  (e.default = z), Object.defineProperty(e, '__esModule', { value: !0 });
});
